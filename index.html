<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Limbus Company Draft System - Multiplayer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="connection-status" id="connection-status">
        <i class="fas fa-plug"></i>
        <span>Connecting...</span>
    </div>
    
    <div class="notification" id="notification">Player joined the lobby!</div>

    <div class="container">
        <!-- Main Page -->
        <div id="main-page">
            <header>
                <h1><i class="fas fa-dragon"></i> Limbus Company Draft System</h1>
                <p>Organize and participate in competitive drafting sessions</p>
            </header>
            
            <div class="logo">
                <i class="fas fa-dragon"></i>
            </div>
            
            <div class="welcome-text">
                <p>Welcome to the official Limbus Company drafting system. Here you can create or join lobbies to organize competitive matches with other players.</p>
                <p>Select an option below to get started. You can create a new lobby as a referee, or join an existing lobby as Player 1, Player 2, or Referee.</p>
            </div>
            
            <div class="server-selection" id="server-selection">
                <div class="server-option selected" data-server="local">
                    <i class="fas fa-laptop"></i> Local Testing
                </div>
                <div class="server-option" data-server="remote">
                    <i class="fas fa-cloud"></i> Online Multiplayer
                </div>
            </div>
            
            <div class="action-container">
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <h3 class="action-title">Create New Lobby</h3>
                    <p class="action-description">Start a new drafting session as the referee. You'll get a unique lobby code to share with players.</p>
                    <button class="btn btn-primary btn-large" id="create-lobby">
                        <i class="fas fa-plus"></i> Create Lobby
                    </button>
                </div>
                
                <div class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-sign-in-alt"></i>
                    </div>
                    <h3 class="action-title">Join Existing Lobby</h3>
                    <p class="action-description">Join a lobby using a code provided by the referee. Select your role before entering.</p>
                    <button class="btn btn-large" id="join-lobby">
                        <i class="fas fa-door-open"></i> Join Lobby
                    </button>
                </div>
            </div>
            
            <div class="lobby-access" id="lobby-access-form" style="display: none;">
                <h2>Enter Lobby Details</h2>
                
                <div class="form-group">
                    <label for="lobby-code">Lobby Code:</label>
                    <input type="text" id="lobby-code" placeholder="Enter 6-character code" maxlength="6">
                </div>
                
                <div class="form-group">
                    <label>Select Your Role:</label>
                    <div class="role-options">
                        <div class="role-option" data-role="p1">
                            <i class="fas fa-user"></i>
                            <div>Player 1</div>
                        </div>
                        <div class="role-option" data-role="p2">
                            <i class="fas fa-user"></i>
                            <div>Player 2</div>
                        </div>
                        <div class="role-option" data-role="ref">
                            <i class="fas fa-star"></i>
                            <div>Referee</div>
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-primary btn-large" id="enter-lobby">
                    <i class="fas fa-play"></i> Enter Lobby
                </button>
            </div>
        </div>
        
        <!-- Lobby View -->
        <div id="lobby-view">
            <button class="btn back-button" id="back-to-main">
                <i class="fas fa-arrow-left"></i> Main Menu
            </button>
            
            <header>
                <h1><i class="fas fa-dragon"></i> Limbus Company Draft System</h1>
                <p>Drafting session in progress</p>
            </header>
            
            <div class="card">
                <div class="lobby-info">
                    <div>
                        <h3>LOBBY CODE</h3>
                        <div class="code-display" id="lobby-code-display">XK7F9P</div>
                        <p>Share this code with other participants</p>
                    </div>
                    <div>
                        <h3>PARTICIPANTS</h3>
                        <div class="participants" id="participants-list">
                            <!-- Participants will be added dynamically -->
                        </div>
                    </div>
                    <div>
                        <h3>PHASE TIMER</h3>
                        <div class="timer" id="phase-timer">--:--</div>
                    </div>
                </div>
                
                <div class="phase-container">
                    <div class="phase-section">
                        <div class="section-title">
                            <div class="icon">1</div>
                            <h2>Roster Selection Phase</h2>
                        </div>
                        
                        <div class="instructions">
                            <p>Each player must select 42 IDs from the available pool to create their roster. 
                            During drafting, players will ban from their opponent's roster and pick from their own.</p>
                        </div>
                        
                        <div class="filter-bar">
                            <div class="filter-group">
                                <label class="filter-label">Filter by Sinner:</label>
                                <select id="sinner-filter">
                                    <option value="">All Sinners</option>
                                    <option value="Yi Sang">Yi Sang</option>
                                    <option value="Faust">Faust</option>
                                    <option value="Don Quixote">Don Quixote</option>
                                    <option value="Ryōshū">Ryōshū</option>
                                    <option value="Meursault">Meursault</option>
                                    <option value="Hong Lu">Hong Lu</option>
                                    <option value="Heathcliff">Heathcliff</option>
                                    <option value="Ishmael">Ishmael</option>
                                    <option value="Rodion">Rodion</option>
                                    <option value="Sinclair">Sinclair</option>
                                    <option value="Outis">Outis</option>
                                    <option value="Gregor">Gregor</option>
                                </select>
                            </div>
                            
                            <div class="filter-group">
                                <label class="filter-label">Filter by Sin Affinity:</label>
                                <select id="sin-affinity-filter">
                                    <option value="">All Affinities</option>
                                    <option value="Gloom">Gloom</option>
                                    <option value="Lust">Lust</option>
                                    <option value="Sloth">Sloth</option>
                                    <option value="Wrath">Wrath</option>
                                    <option value="Gluttony">Gluttony</option>
                                    <option value="Envy">Envy</option>
                                    <option value="Pride">Pride</option>
                                </select>
                            </div>
                            
                            <div class="filter-group">
                                <label class="filter-label">Filter by Keyword:</label>
                                <select id="keyword-filter">
                                    <option value="">All Keywords</option>
                                    <option value="Sinking">Sinking</option>
                                    <option value="Rupture">Rupture</option>
                                    <option value="Discard">Discard</option>
                                    <option value="Tremor">Tremor</option>
                                    <option value="Bleed">Bleed</option>
                                    <option value="Poise">Poise</option>
                                    <option value="Aggro">Aggro</option>
                                    <option value="Charge">Charge</option>
                                    <option value="Burn">Burn</option>
                                    <option value="Ammo">Ammo</option>
                                </select>
                            </div>
                            
                            <div class="filter-buttons">
                                <button class="btn" id="reset-filters"><i class="fas fa-sync"></i> Reset</button>
                            </div>
                        </div>
                        
                        <div class="player-area">
                            <div class="player-panel">
                                <div class="player-header">
                                    <div class="player-name">Player 1</div>
                                    <div class="player-status status-waiting" id="p1-status">Selecting</div>
                                </div>
                                <div class="counter"><i class="fas fa-users"></i> Selected: <strong id="p1-counter">0</strong> / 42 IDs</div>
                                <div class="roster-selection" id="p1-roster">
                                    <!-- IDs will be populated by JavaScript -->
                                </div>
                                <div class="controls">
                                    <button class="btn" id="p1-random"><i class="fas fa-random"></i> Randomize</button>
                                    <button class="btn" id="p1-clear"><i class="fas fa-trash"></i> Clear</button>
                                    <button class="btn" id="p1-ready"><i class="fas fa-check"></i> Ready</button>
                                </div>
                            </div>
                            
                            <div class="player-panel">
                                <div class="player-header">
                                    <div class="player-name">Player 2</div>
                                    <div class="player-status status-waiting" id="p2-status">Selecting</div>
                                </div>
                                <div class="counter"><i class="fas fa-users"></i> Selected: <strong id="p2-counter">0</strong> / 42 IDs</div>
                                <div class="roster-selection" id="p2-roster">
                                    <!-- IDs will be populated by JavaScript -->
                                </div>
                                <div class="controls">
                                    <button class="btn" id="p2-random"><i class="fas fa-random"></i> Randomize</button>
                                    <button class="btn" id="p2-clear"><i class="fas fa-trash"></i> Clear</button>
                                    <button class="btn" id="p2-ready"><i class="fas fa-check"></i> Ready</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="roster-complete">
                            <i class="fas fa-check-circle"></i> Both rosters will be locked when complete
                        </div>
                    </div>
                    
                    <div class="player-section">
                        <div class="section-title">
                            <div class="icon">2</div>
                            <h2>Drafting Phase</h2>
                        </div>
                        
                        <div class="draft-action">
                            <div class="draft-instructions" id="draft-instructions">Waiting for players to complete their rosters</div>
                            <div id="draft-action-description"></div>
                        </div>
                        
                        <div class="player-area">
                            <div class="player-panel">
                                <div class="player-header">
                                    <div class="player-name">Player 1</div>
                                    <div class="player-status status-waiting" id="p1-draft-status">Waiting</div>
                                </div>
                                <div class="search-bar" id="p1-search-bar" style="display: none;">
                                    <input type="text" id="p1-search-input" placeholder="Search IDs...">
                                </div>
                                <h4 class="roster-header">Banned IDs (from P2's roster):</h4>
                                <div class="ban-list" id="p1-id-bans"></div>
                                
                                <h4>Picked IDs (from your roster):</h4>
                                <div class="pick-list" id="p1-picks"></div>
                            </div>
                            
                            <div class="player-panel">
                                <div class="player-header">
                                    <div class="player-name">Player 2</div>
                                    <div class="player-status status-waiting" id="p2-draft-status">Waiting</div>
                                </div>
                                <div class="search-bar" id="p2-search-bar" style="display: none;">
                                    <input type="text" id="p2-search-input" placeholder="Search IDs...">
                                </div>
                                <h4 class="roster-header">Banned IDs (from P1's roster):</h4>
                                <div class="ban-list" id="p2-id-bans"></div>
                                
                                <h4>Picked IDs (from your roster):</h4>
                                <div class="pick-list" id="p2-picks"></div>
                            </div>
                        </div>
                        
                        <div class="ref-actions" id="draft-controls">
                            <button class="btn" id="start-draft" disabled><i class="fas fa-play"></i> Start Draft</button>
                            <button class="btn" id="next-phase" disabled><i class="fas fa-step-forward"></i> Next Phase</button>
                            <button class="btn btn-primary" id="complete-draft" disabled><i class="fas fa-flag-checkered"></i> Complete Draft</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
